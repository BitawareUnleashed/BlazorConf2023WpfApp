@page "/"
@using System.Text
@using BlazorApp.Client.Models;
@using BlazorApp.Client.Services;
@using Microsoft.AspNetCore.SignalR.Client
@inject SerialPortService SerialPortService

<h1 style="margin-top: 0;margin-bottom: 25px;">
    Hello, Blazor Conf 2023!
</h1>

<table>
    <tr>
        <td>Comm port</td>
        <td>
            <!-- PORTA SERIALE -->
            <select @onchange="HandleSelectChangeComName" style="width:100%">
                <option value="COM1">COM1</option>
                <option value="COM2">COM2</option>
                <option value="COM3">COM3</option>
                <option value="COM4">COM4</option>
                <option value="COM5">COM5</option>
                <option value="COM6">COM6</option>
                <option value="COM7">COM7</option>
                <option value="COM8">COM8</option>
                <option value="COM9">COM9</option>
                <option value="COM10">COM10</option>
                <option value="COM11">COM11</option>
                <option value="COM12">COM12</option>
            </select>
        </td>
        <td><button @onclick="Connect">@buttonText</button></td>
        <td></td>
    </tr>
    <tr>
        <td>Baud rate</td>
        <td>
            <!-- BAUD RATE -->
            <select @onchange="HandleSelectChangeComBaud" style="width:100%">
                <option value="2400">2400</option>
                <option value="4800">4800</option>
                <option value="9600">9600</option>
                <option value="19200">19200</option>
                <option value="38400">38400</option>
                <option value="57600">57600</option>
                <option value="115200">115200</option>
                <option value="230400">230400</option>
                <option value="460800">460800</option>
                <option value="921600">921600</option>
            </select>
        </td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>Send</td>
        <td><input type="text" name="send-box" @bind="sendBoxValue" style="width:150px"></td>
        <td><button @onclick="Send">@sendText</button></td>
        <td></td>
    </tr>
    <!-- RIGA VUOTA -->
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</table>
<!-- GRIGLIA CON BOTTONI -->
<table>
    <tr>
        <td><button @onclick="()=>FunctionButton(1)" style="height:30px">1</button></td>
        <td><button @onclick="()=>FunctionButton(2)" style="height:30px">2</button></td>
        <td><button @onclick="()=>FunctionButton(3)" style="height:30px">3</button></td>
        <td><button @onclick="()=>FunctionButton(4)" style="height:30px">4</button></td>
        <td><button @onclick="()=>FunctionButton(5)" style="height:30px">5</button></td>
        <td><button @onclick="()=>FunctionButton(6)" style="height:30px">6</button></td>
        <td><button @onclick="()=>FunctionButton(7)" style="height:30px">7</button></td>
        <td><button @onclick="()=>FunctionButton(8)" style="height:30px">8</button></td>
        <td><button @onclick="()=>FunctionButton(9)" style="height:30px">9</button></td>
    </tr>
    <tr>
        <td><button @onclick="()=>FunctionButton(0x0A)" style="height:30px">A</button></td>
        <td><button @onclick="()=>FunctionButton(0x0B)" style="height:30px">B</button></td>
        <td><button @onclick="()=>FunctionButton(0x0C)" style="height:30px">C</button></td>
        <td><button @onclick="()=>FunctionButton(0x0D)" style="height:30px">D</button></td>
        <td><button @onclick="()=>FunctionButton(0x0E)" style="height:30px">E</button></td>
        <td><button @onclick="()=>FunctionButton(0x0F)" style="height:30px">F</button></td>
        <td><button @onclick="()=>FunctionButton(0x10)" style="height:30px">10</button></td>
        <td><button @onclick="()=>FunctionButton(0x11)" style="height:30px">11</button></td>
        <td><button @onclick="()=>FunctionButton(0x12)" style="height:30px">12</button></td>
    </tr>

</table>



<table>
    <!-- DATI RICEVUTI-->
    <tr>
        <td>Received data</td>
        <td>
            <textarea id="w3review" name="w3review" rows="12" cols="100">@logAreaNotifications</textarea>
        </td>
    </tr>
</table>

